<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>{{ page.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>
  <div class="page-container">
    <nav class="sidebar">
      <h3>فهرست</h3>
      <ul>
        <li><a href="#intro">مقدمه</a></li>
        <li><a href="#syllabus">سرفصل</a></li>
        <li><a href="#lectures">درس‌ها</a></li>
        <li><a href="#homework">تمرین‌ها</a></li>
        <li><a href="#resources">منابع</a></li>
        <li><a href="#contact">تماس</a></li>
      </ul>
    </nav>
    <main class="content">
      {{ content }}
    </main>
  </div>

  <footer>
    <p>© 2025 جبر خطی عددی · <a href="LICENSE">مجوز</a> · <a href="#contact">تماس</a></p>
  </footer>

  <script>
    // Scroll spy
    document.addEventListener("DOMContentLoaded", function () {
      const sections = document.querySelectorAll(".content h3 a[id]");
      const navLinks = document.querySelectorAll(".sidebar a");
      function onScroll() {
        let current = "";
        sections.forEach(section => {
          const sectionTop = section.getBoundingClientRect().top + window.scrollY - 120;
          if (window.scrollY >= sectionTop) {
            current = section.getAttribute("id");
          }
        });
        navLinks.forEach(link => {
          link.classList.remove("active");
          if (link.getAttribute("href") === "#" + current) {
            link.classList.add("active");
          }
        });
      }
      window.addEventListener("scroll", onScroll);
      onScroll();
    });
  </script>
</body>
</html>
